<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#FFF8F0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Year Progress">
  <meta name="description" content="A beautiful app to visualize your year as a grid of dots. Mark days with colors, emojis, and notes.">
  
  <title>Year Progress</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <h1 class="year-title"></h1>
      <button class="settings-btn" aria-label="Settings">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97s-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1s.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z"/>
        </svg>
      </button>
    </header>

    <!-- Progress Stats -->
    <div class="progress-stats">
      <span class="days-remaining"></span>
      <span class="separator">Â·</span>
      <span class="percentage"></span>
    </div>

    <!-- Year Grid -->
    <div class="grid-container">
      <div class="year-grid" id="yearGrid"></div>
    </div>

    <!-- Hint text for new users -->
    <p class="hint-text" id="hintText">Tap any day to mark it âœ¨</p>
  </div>

  <!-- Day Popup (hidden by default) -->
  <div class="popup-overlay" id="popupOverlay">
    <div class="popup" id="dayPopup">
      <div class="popup-header">
        <span class="popup-date"></span>
        <button class="popup-close" aria-label="Close">Ã—</button>
      </div>
      <div class="popup-content">
        <!-- Color palette -->
        <div class="popup-section">
          <div class="color-palette" id="colorPalette"></div>
        </div>
        <!-- Emoji picker -->
        <div class="popup-section">
          <div class="emoji-picker" id="emojiPicker"></div>
        </div>
        <!-- Note section -->
        <div class="popup-section note-section">
          <textarea class="note-input" id="noteInput" placeholder="Add a note..." maxlength="280"></textarea>
          <div class="note-char-count">
            <span id="charCount">0</span>/280
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Panel (hidden by default) -->
  <div class="settings-overlay" id="settingsOverlay">
    <div class="settings-panel" id="settingsPanel">
      <div class="settings-header">
        <h2>Settings</h2>
        <button class="settings-close" aria-label="Close">Ã—</button>
      </div>
      <div class="settings-content">
        <!-- Theme picker -->
        <div class="settings-section">
          <h3>Theme</h3>
          <div class="theme-picker" id="themePicker"></div>
        </div>
        <!-- Year selector -->
        <div class="settings-section">
          <h3>Year</h3>
          <div class="year-selector" id="yearSelector"></div>
        </div>
        
        <!-- Emoji customization -->
        <div class="settings-section">
          <h3>Emojis</h3>
          <input type="text" class="emoji-input" id="emojiInput" placeholder="â¤ï¸ðŸ˜Šâ­ðŸŽ‰ðŸ’ªðŸŒ¸â˜€ï¸ðŸŒ™âœ¨ðŸŒˆðŸ’œðŸ€">
          <p class="settings-hint">Enter the emojis you want to use</p>
        </div>

        <!-- Data section -->
        <div class="settings-section">
          <h3>Your Data</h3>
          <div class="data-buttons">
            <button class="data-btn" id="exportBtn">Backup</button>
            <button class="data-btn" id="importBtn">Restore</button>
          </div>
          <input type="file" id="importInput" accept=".json" style="display: none;">
          <p class="settings-hint">Your data is stored on this device only, not in the cloud.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>
</html>
